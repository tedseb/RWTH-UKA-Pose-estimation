{"version":3,"file":"main.js","mappings":"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","sources":["./$_lazy_route_resources|lazy|groupOptions: {}|namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/services/coordinate.service.ts","./src/app/services/data.service.ts","./src/app/services/speech.service.ts","./src/app/step/intro/intro.component.ts","./src/app/step/intro/intro.component.html","./src/app/step/renderer/renderer.component.ts","./src/app/step/renderer/renderer.component.html","./src/app/step/select/select.component.ts","./src/app/step/select/select.component.html","./src/app/step/step.component.ts","./src/app/step/step.component.html","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 98255;\nmodule.exports = webpackEmptyAsyncContext;","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { IntroComponent } from './step/intro/intro.component';\nimport { RendererComponent } from './step/renderer/renderer.component';\nimport { SelectComponent } from './step/select/select.component';\n\nconst routes: Routes = [\n  {path: 'renderer', component: RendererComponent},\n  {path: 'select', component: SelectComponent},\n  {path: 'intro', component: IntroComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'Showroom Application';\n}\n","<app-step></app-step>","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { StepComponent } from './step/step.component';\nimport { RendererComponent } from './step/renderer/renderer.component';\nimport { IntroComponent } from './step/intro/intro.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatCommonModule } from '@angular/material/core';\nimport { MatCardModule } from '@angular/material/card';\nimport { SelectComponent } from './step/select/select.component';\nimport { MatIconModule} from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\n\nimport { NgxEchartsModule } from 'ngx-echarts';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    StepComponent,\n    RendererComponent,\n    IntroComponent,\n    SelectComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    MatGridListModule,\n    MatSnackBarModule,\n    MatTabsModule,\n    MatCommonModule,\n    MatCardModule,\n    MatIconModule,\n    MatButtonModule,\n    NgxEchartsModule.forRoot({\n      /**\n       * This will import all modules from echarts.\n       * If you only need custom modules,\n       * please refer to [Custom Build] section.\n       */\n      echarts: () => import('echarts'), // or import('./path-to-my-custom-echarts')\n    })\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, ReplaySubject } from 'rxjs';\nimport { WebSocketSubject } from 'rxjs/webSocket';\nimport { Coordinates } from '../shared/models/coordinates';\nimport { DataService } from './data.service';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CoordinateService {\n  matrabs_used = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23];\n  matrabs_labels = ['M_Hip', 'L_Hip', 'R_Hip', 'L_Back', 'L_Knee', 'R_Knee', 'M_Back', 'L_Ankle', 'R_Ankle', 'U_Back', 'L_Toes', 'R_Toes', 'Neck', 'L_Collarbone', 'R_Collarbone', 'Head', 'L_Shoulder', 'R_Shoulder', 'L_Elbow', 'R_Elbow', 'L_Wrist', 'R_Wrist', 'L_Fingers', 'R_Fingers'];\n  matrabs = [[1, 4], [1, 0], [2, 5], [2, 0], [3, 6], [3, 0], [4, 7], [5, 8], [6, 9], [7, 10], [8, 11], [9, 12], [12, 13], [12, 14], [12, 15], [13, 16], [14, 17], [16, 18], [17, 19], [18, 20], [19, 21], [20, 22], [21, 23]];\n\n\n  socket: WebSocketSubject<any>;\n  lastPose?: any;\n  update: BehaviorSubject<Coordinates>;\n  progression: ReplaySubject<number>;\n  frame: ReplaySubject<number>;\n\n  connections: { [index: string]: Array<string> } = {};\n\n\n  constructor(private dataService: DataService) {\n    this.socket = dataService.socket;\n    this.socket.subscribe(message => {\n      if(message.usage == null && message.topic == null) {\n          this.lastPose = message;\n          this.update.next(this.lastPose);\n      } else if(message.usage && message.usage === \"reference_progress\") {\n        this.progression.next(message.data.data);\n      } else if(message.usage && message.usage === \"reference_frame\") {\n        this.frame.next(message.data);\n      }\n    });\n    this.update = new BehaviorSubject<Coordinates>(this.lastPose!);\n    this.progression = new ReplaySubject<number>();\n    this.frame = new ReplaySubject<number>();\n    /* this.connections = {\n      OP_R_Shoulder: ['OP_R_Elbow', 'R_Hip'],\n      OP_R_Elbow: ['OP_R_Wrist'],\n      OP_L_Shoulder: ['OP_L_Elbow', 'L_Hip', 'OP_R_Shoulder'],\n      OP_L_Elbow: ['OP_L_Wrist'],\n      R_Hip: ['OP_R_Hip', 'L_Hip', 'OP_R_Knee'],\n      OP_R_Hip: ['OP_L_Hip', 'OP_R_Knee'],\n      OP_R_Knee: ['OP_R_Ankle'],\n      OP_L_Hip: ['OP_L_Knee'],\n      L_Hip: ['OP_L_Hip', 'OP_L_Knee'],\n      OP_L_Knee: ['OP_L_Ankle'],\n      OP_L_Ankle: ['OP_L_Heel'],\n      OP_L_Heel: ['OP_L_Small_Toe', 'OP_L_Big_Toe'],\n      OP_L_Small_Toe: ['OP_L_Big_Toe'],\n      OP_R_Ankle: ['OP_R_Heel'],\n      OP_R_Heel: ['OP_R_Big_Toe'],\n      OP_R_Big_Toe: ['OP_R_Small_Toe'],\n      OP_R_Small_Toe: ['OP_R_Heel'],\n      Jaw_HM: ['OP_R_Ear', 'OP_L_Ear', 'OP_Nose'],\n      OP_Nose: ['OP_R_Eye', 'OP_L_Eye'],\n      OP_R_Eye: ['OP_L_Eye'],\n      OP_R_Ear: ['Head_HM'],\n      OP_L_Ear: ['Head_HM'],\n      OP_Neck: ['Neck_LSP'],\n      Neck_LSP: ['Head_HM'],\n      Spine_HM: ['Neck_LSP', 'Pelvis_MPII']\n    }; */\n    this.dataService.getConnectionsDict().subscribe((val: any) => this.buildConnectionsDict(val));\n    //this.useMocking();\n  }\n\n\n\n  buildConnectionsDict(val: any): void {\n    let dict: { [index: string]: Array<string> } = {};\n    const used = val.used;\n    const labels = val.labels as Array<string>;\n    const skeleton = val.connections as Array<[number, number]>;\n\n    skeleton.forEach(val => {\n      if (dict[labels[val[0]]]) {\n        dict[labels[val[0]]].push(labels[val[1]]);\n      } else {\n        dict[labels[val[0]]] = [labels[val[1]]];\n      }\n    });\n    console.log(dict);\n    this.connections = dict;\n  }\n\n\n\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { first } from 'rxjs/operators';\nimport { WebSocketSubject, webSocket } from 'rxjs/webSocket';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataService {\n\n  socket: WebSocketSubject<any>\n  exerciseSocket: WebSocketSubject<any>;\n  userID: string | undefined;\n\n  constructor(private http: HttpClient) {\n    this.socket = this.getWebsocket();\n    this.exerciseSocket = webSocket('ws://localhost:3030');\n    this.exerciseSocket.subscribe(val => console.log(\"WS\", val));\n  }\n\n  getWebsocket(): WebSocketSubject<any> {\n    return webSocket('ws://localhost:6161');\n  }\n\n  activateStationAndSetExercise(statiionID: number, exerciseName: string): void {\n    let msg =\n      `{\"id\": \"test\",\"type\": 0,\"request\": 1,\"payload\": {\"station\": ${statiionID},\"exercise\": -1}}`;\n    let gejsoned = JSON.parse(msg);\n    this.exerciseSocket.next(gejsoned);\n    this.exerciseSocket.pipe(first()).subscribe(val => {\n      this.userID = val.id;\n      let exercsieActivateMsg =\n        `{\"id\": \"${this.userID}\",\"type\": 0,\"request\": 3,\"payload\": {\"station\": ${statiionID},\"exercise\": ${exerciseName},\"set_id\": 1}}`;\n      let gejsoned2 = JSON.parse(exercsieActivateMsg);\n      this.exerciseSocket.next(gejsoned2);\n    });\n  }\n\n  deactivateStationAndSetExercise(statiionID: number, exerciseName: string): void {\n    let exerciseDeactivateMsg =\n      `{    \n        \"id\": \"${this.userID}\",    \n        \"type\": 0,    \n        \"request\": 4,    \n        \"payload\": {\n         \"station\": ${statiionID}, \n         \"exercise\": ${exerciseName},\n         \"set_id\": 1\n        }\n      }`;\n    this.exerciseSocket.next(exerciseDeactivateMsg);\n    let msg =\n      `{\n      \"id\": \"${this.userID}\",\n      \"type\": 0,\n      \"request\": 2,\n      \"payload\": {}\n    }`;\n    this.exerciseSocket.next(msg);\n  }\n\n\n\n\n\n  disconnectWs(): void {\n    // socket.complete();\n  }\n\n  sendWs(exName: string): void {\n    //TODO: Station?\n    let obj = {\n      isActive: true,\n      exerciseName: exName,\n      stationID: 1\n    };\n    this.socket.next(obj);\n  }\n\n  getLanguage(): any {\n    this.http.get<any>('api/language').subscribe((val: string) => {\n      return val;\n    });\n  }\n\n\n  getCoordinates(): void {\n    this.http.get<any>('api/coordinates').subscribe(val => {\n      console.log(val);\n    });\n  }\n\n  postPose(pose: any): void {\n    this.http.post('/api/pose', pose);\n  }\n\n  getConnections(): any {\n    let connections;\n    this.http.get('/api/connections').subscribe(val => {\n      return val;\n    });\n    // return connections;\n  }\n\n  startRecording(): void {\n    this.http.post('/api/exercise/recording/start', null).subscribe(val => {\n    });\n  }\n\n  stopRecording(): Observable<any> {\n    return this.http.post('/api/exercise/recording/stop', null);\n  }\n\n  saveRecording(name: string, description: string, features: Array<[string, Array<string>]>, recording: any): void {\n    const exercise = {\n      name,\n      description,\n      features,\n      recording\n    };\n    this.http.post('/api/expert/recording/save', exercise).subscribe(val => { });\n  }\n\n\n  getConnectionsDict(): Observable<any> {\n    return this.http.get('/api/connections/dict');\n  }\n\n  // tslint:disable-next-line:typedef\n  saveExerciseWithStages(stages: any, name: string, recording: any) {\n    const toSave = {\n      stages,\n      recording,\n      name\n    };\n    console.log(toSave);\n    this.http.post('/api/expert/exercises/stages/save', toSave).subscribe(val => {\n      console.log(val);\n    });\n  }\n\n}\n","import { Injectable, OnDestroy, OnInit } from '@angular/core';\nimport { ChildActivationStart } from '@angular/router';\nimport { BehaviorSubject, of, ReplaySubject } from 'rxjs';\n\n// tslint:disable-next-line: no-any\ndeclare var webkitSpeechRecognition: any;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SpeechService implements OnInit, OnDestroy {\n\n\n  // subscribable events\n  welcome: ReplaySubject<string> = new ReplaySubject();\n  begin: ReplaySubject<string> = new ReplaySubject();\n  exercise: ReplaySubject<string> = new ReplaySubject();\n  feedback: ReplaySubject<string> = new ReplaySubject();\n  result: ReplaySubject<string> = new ReplaySubject();\n\n  // intervals\n  resultInterval = setInterval(() => {\n    if(!this.processed) {\n      if (Date.now() - this.timestamp >= 5000) {\n        this.wordConcat();\n        console.log(this.text);\n        this.processed = true;\n      }\n    }\n\n  }, 7500);\n\n  lang = 'de-DE';\n  recognition = new webkitSpeechRecognition();\n  isListening = false;\n  processed = true;\n  timestamp = Date.now();\n\n  public text = '';\n  private tempWords = '';\n\n\n  dict: { [id: string]: { [id: string]: (string | string[]) } } = {\n    'en-US': { welcome: 'welcome', begin: 'begin', exercise: ['push up', 'military press', 'dead lift'] },\n    'de-DE': { welcome: 'willkommen', begin: 'begin', exercise: ['liegestütze','liege stütze', 'militär presse', 'kreuz heben', 'kreuzheben'] }\n  };\n  reason: boolean = false;\n\n  ngOnDestroy(): void {\n    if (this.resultInterval) {\n      clearInterval(this.resultInterval);\n    }\n  }\n\n\n  constructor() {\n    this.init();\n  }\n\n  ngOnInit(): void {\n\n  }\n\n  public init(): void {\n    this.recognition.interimResults = true;\n    this.recognition.lang = this.lang;\n    this.recognition.continuous = true;\n\n    this.recognition.addEventListener('result', (speechEvent: any) => {\n      this.processed = false;\n      this.timestamp = Date.now();\n      console.log(speechEvent);\n\n      const transcript = Array.from(speechEvent.results)\n        .map((result: any) => result[0])\n        .map((result) => {\n          console.log(result.transcript);\n          return result.transcript;\n        }).join('');\n\n      const lt = transcript.toLowerCase();\n      if(lt.includes(\"ende\") && lt.includes(\"sprachsteuerung\")) {\n        console.log('BEENDE');\n        this.reason = true;\n        this.stop();\n      }\n\n\n\n      if (lt.includes(this.dict[this.lang].welcome as string) || (lt.includes('will') && lt.includes('kommen'))) {\n        this.welcome.next(transcript);\n      }\n      if (lt.includes(this.dict[this.lang].begin as string)) {\n        this.begin.next(transcript);\n      }\n      if ((this.dict[this.lang].exercise as string[]).some(val => { lt.includes(val) })) {\n        console.log(\"exercise known\");\n        this.exercise.next(transcript);\n      } else if (lt.includes('übung') || (lt.includes('übe'))) {\n        this.exercise.next(transcript);\n      } else {\n        this.result.next(lt);\n      }\n      this.tempWords = transcript;\n    });\n\n    this.recognition.addEventListener('end', () => {\n      if(this.reason) {\n        console.log('End speech recognition');\n      } else {\n        console.log('restarting speech recognition');\n        this.start();\n      }\n    });\n  }\n\n  public start(): void {\n    this.isListening = true;\n    this.recognition.start();\n    console.log('Speech recognition started');\n  }\n\n  public stop(): void {\n    this.isListening = false;\n    this.wordConcat();\n    this.recognition.stop();\n  }\n\n  private wordConcat(): void {\n    this.text = this.text + ' ' + this.tempWords + '.';\n    this.tempWords = '';\n  }\n\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-intro',\n  templateUrl: './intro.component.html',\n  styleUrls: ['./intro.component.scss']\n})\nexport class IntroComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n<div class=\"container\">\n  <div class=\"header\">\n    <h1>Welcome to the future.</h1>\n  </div>\n</div>\n\n\n","import { Component, ElementRef, OnInit, ViewChild, AfterViewInit, HostListener, OnDestroy, Input } from '@angular/core';\nimport * as three from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { CoordinateService } from '../../services/coordinate.service';\nimport { DataService } from '../../services/data.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\n\n\n@Component({\n  selector: 'app-renderer',\n  templateUrl: './renderer.component.html',\n  styleUrls: ['./renderer.component.scss']\n})\nexport class RendererComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  options: any;\n  updateOptions: any;\n  data: number[] = [];\n\n  constructor(private dataService: DataService, protected coordinateService: CoordinateService, private _snackbar: MatSnackBar) {\n    const width = 400;\n    const height = 400;\n    this.renderer = new three.WebGLRenderer({ antialias: true, alpha: true });\n    this.renderer.setClearColor(0xffffff, 0);\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.scene = new three.Scene();\n    this.scene.background = null;\n    this.camera = new three.PerspectiveCamera(25, width / height, 0.1, 2000);\n    this.orbitControls = new OrbitControls(this.camera, this.renderer.domElement);\n    this.orbitControls.update();\n\n  }\n\n  @Input()\n  source!: string;\n\n  @ViewChild('editorContainer') editorContainer!: ElementRef;\n  renderer: three.WebGLRenderer;\n  scene: three.Scene;\n  camera: three.PerspectiveCamera;\n  raycaster = new three.Raycaster();\n\n  // properties\n  viewHeight = window.innerHeight - 70 - 48 - 48;\n  viewWidth = window.innerWidth;\n  pixelRatio = window.devicePixelRatio;\n  mouse = new three.Vector2();\n  touch = new three.Vector2();\n\n\n  // controlling\n  orbitControls: OrbitControls;\n\n  // skeleton\n  dots: Array<{ index: string, dot: THREE.Mesh }> = [];\n  dotsMapping: Array<[string, string]> = [];\n  lines: Array<THREE.Line> = [];\n\n  // recording Pose\n  recordingPose: any;\n  max = 100;\n  selectedJoint = '';\n  color = [0xf72585, 0x4361ee, 0x4cc9f0, 0xb5179e, 0x4895ef, 0x7209b7];\n  isInitialized = false;\n\n  // video properties\n  frame = 0;\n  progression = 0;\n\n\n  // event listeners\n  @HostListener('window:resize', ['$event'])\n  onWindowResize(event: UIEvent): void {\n    this.viewHeight = window.innerHeight - 70 - 48 - 48;\n    const width = window.innerWidth;\n    const height = window.innerHeight - 64;\n    //this.renderer.setSize(width * 2 / 3, height);\n    //this.camera.aspect = (width * 2 / 3) / height;\n    this.camera.updateProjectionMatrix();\n  }\n\n  @HostListener('document:mousemove', ['$event'])\n  onDocumentMouseMove(event: MouseEvent): void {\n    const rect = this.renderer.domElement.getBoundingClientRect();\n    this.mouse.x = ((event.clientX - rect.left) / (rect.right - rect.left)) * 2 - 1;\n    this.mouse.y = - ((event.clientY - rect.top) / (rect.bottom - rect.top)) * 2 + 1;\n  }\n\n  @HostListener('document:touchend', ['$event'])\n  onTouchEnd(event: TouchEvent): void {\n    const rect = this.renderer.domElement.getBoundingClientRect();\n    this.touch.x = ((event.changedTouches[0].clientX - rect.left) / (rect.right - rect.left)) * 2 - 1;\n    this.touch.y = - ((event.changedTouches[0].clientY - rect.top) / (rect.bottom - rect.top)) * 2 + 1;\n  }\n\n\n  ngOnInit(): void {\n    this.initScene();\n    // initialize chart options:\n    this.options = {\n      title: {\n        text: 'Ausführungsfortschritt'\n      },\n      tooltip: {\n        trigger: 'axis',\n        formatter: (params: any) => {\n          return \"hi\";\n        },\n        axisPointer: {\n          animation: false\n        }\n      },\n      xAxis: {\n        type: 'value',\n        splitLine: {\n          show: false\n        }\n      },\n      yAxis: {\n        type: 'value',\n        boundaryGap: [0, '100%'],\n        splitLine: {\n          show: false\n        }\n      },\n      series: [{\n        name: 'Mocking Data',\n        type: 'line',\n        showSymbol: false,\n        hoverAnimation: false,\n        data: this.data\n      }]\n    };\n\n    this.coordinateService.progression.subscribe(val => {\n      console.log(val);\n      this.data.push(val);\n      // update series data:\n      this.updateOptions = {\n        series: [{\n          data: this.data\n        }]\n      };\n    });\n\n\n  }\n\n\n  ngAfterViewInit(): void {\n    this.camera.lookAt(this.scene.position);\n    this.editorContainer.nativeElement.appendChild(this.renderer.domElement);\n    let context = this.renderer.domElement.getContext('2d');\n    this.renderer.domElement.setAttribute('style', 'background: transparent;');\n    context?.clearRect(0, 0, this.renderer.domElement.width, this.renderer.domElement.height);\n    this.renderer.autoClear = false;\n    //this.editorContainer.nativeElement.addEventListener('click', (event: MouseEvent) => { this.addJointToStage(this.selectedJoint); });\n    this.renderer.setPixelRatio(this.pixelRatio);\n    this.renderer.setSize(600, 600);\n    this.animate();\n    this.coordinateService.update.subscribe(pose => {\n      if (!this.isInitialized) {\n        this.initSkeleton();\n        return;\n      } else if (pose) {\n        this.recordingPose = pose;\n        this.renderSkeleton(1, 3, -2, 3);\n      }\n    });\n    this.coordinateService.frame.subscribe(frame => {\n      console.log(\"Frame: \", frame);\n      this.frame = frame;\n    });\n    this.coordinateService.progression.subscribe(progression => {\n      this.progression = progression;\n      this.colorLines();\n    });\n  }\n\n  ngOnDestroy(): void {\n  }\n\n  animate(): void {\n    window.requestAnimationFrame(() => this.animate());\n    this.renderer.clear();\n    this.renderer.render(this.scene, this.camera);\n    this.renderer.clearDepth();\n    this.selectJoint();\n  }\n\n  initScene() {\n\n    this.camera.position.set(20, 20, 20);\n    this.orbitControls.enablePan = true;\n    this.orbitControls.enableZoom = true;\n    this.orbitControls.enableKeys = true;\n\n    const axesHelper = new three.AxesHelper(5);\n    this.scene.add(axesHelper);\n\n    const ambientLight = new three.AmbientLight(0xffffff);\n    ambientLight.intensity = 2;\n    this.scene.add(ambientLight);\n  }\n\n\n  initSkeleton(): void {\n    // tslint:disable-next-line: forin\n    if (this.coordinateService.connections == null || this.coordinateService.lastPose == null) { return; }\n    for (const point in this.coordinateService.lastPose!) {\n      const geometry = new three.SphereBufferGeometry(0.1, 32, 32);\n      const material = new three.MeshBasicMaterial({ color: 0xafaab9 });\n      const dot = new three.Mesh(geometry, material);\n      dot.name = point.toString();\n      this.dots.push({ index: point, dot });\n      this.scene.add(dot);\n    }\n\n    // tslint:disable-next-line: forin\n    for (const start in this.coordinateService.connections) {\n      // tslint:disable-next-line: forin\n      for (const end of this.coordinateService.connections[start]) {\n        const material = new three.LineBasicMaterial({\n          color: 0x3f51b5,\n          linewidth: 4.0\n        });\n        const geometry = new three.BufferGeometry();\n        const line = new three.Line(geometry, material);\n        this.lines.push(line);\n        this.dotsMapping.push([start, end]);\n        this.scene.add(line);\n      }\n    }\n    this.isInitialized = true;\n  }\n\n  colorLines(): void {\n    let material = new three.LineBasicMaterial({ linewidth: 4.0 });\n    switch (true) {\n      case (this.progression < 20):\n        material.color = new three.Color(this.color[0]);\n        break;\n      case (this.progression < 40):\n        material.color = new three.Color(this.color[1]);\n        break;\n      case (this.progression < 60):\n        material.color = new three.Color(this.color[2]);\n        break;\n      case (this.progression < 80):\n        material.color = new three.Color(this.color[3]);\n        break;\n      default:\n        material.color = new three.Color(this.color[4]);\n        break;\n\n    }\n    this.lines.forEach(line => {\n      line.material = material;\n    });\n  }\n\n  renderSkeleton(scalar: number, offsetX: number, offsetY: number, offsetZ: number) {\n    let pose = this.recordingPose\n    for (const dot of this.dots) {\n      dot.dot.position.setX(pose[dot.index].x * scalar + offsetX);\n      dot.dot.position.setY(pose[dot.index].y * scalar + offsetY);\n      dot.dot.position.setZ(pose[dot.index].z * scalar + offsetZ);\n    }\n    // tslint:disable-next-line: forin\n    for (const index in this.lines) {\n      const mapping = this.dotsMapping[index];\n      const line = this.lines[index];\n      const x0 = pose[mapping[0]].x * scalar + offsetX;\n      const x1 = pose[mapping[1]].x * scalar + offsetX;\n      const y0 = pose[mapping[0]].y * scalar + offsetY;\n      const y1 = pose[mapping[1]].y * scalar + offsetY;\n      const z0 = pose[mapping[0]].z * scalar + offsetZ;\n      const z1 = pose[mapping[1]].z * scalar + offsetZ;\n      const start = new three.Vector3(x0, y0, z0);\n      const end = new three.Vector3(x1, y1, z1);\n      line.geometry.setFromPoints([start, end]);\n      line.geometry.computeBoundingBox();\n      line.geometry.computeBoundingSphere();\n    }\n  }\n\n\n  selectJoint(): void {\n    this.raycaster.setFromCamera(this.mouse, this.camera);\n    const mouseIntersection = this.raycaster.intersectObjects(this.scene.children);\n    let go = '';\n    for (const intersected of mouseIntersection) {\n      if (intersected.object instanceof three.Mesh) {\n        go = intersected.object.name;\n      }\n    }\n    if (go.length >= 1) {\n      this.selectedJoint = go;\n    } else {\n      this.selectedJoint = '';\n    }\n  }\n\n}\n","\n <video loop autoplay onloadedmetadata=\"this.muted = true\" class=\"exercise-video\" [currentTime]=\"frame/1000\" #video>\n  <source [src]=\"source\" type=\"video/mp4\">\n</video>\n\n<!-- <div class=\"demo-chart\">\n<div echarts [options]=\"options\" [merge]=\"updateOptions\"></div>\n</div> -->\n<!-- <div class=\"reference-frame\">{{frame}}, {{progression}}</div> -->\n<div #editorContainer class=\"div-editor\" id=\"editorContainer\" style=\"background: transparent;\">\n</div>\n","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { DataService } from 'src/app/services/data.service';\n\nexport interface Exercise {\n  name: string\n  descr?: string,\n  src?: string,\n  mn?: string\n  stationID?: number\n}\n\n@Component({\n  selector: 'app-select',\n  templateUrl: './select.component.html',\n  styleUrls: ['./select.component.scss']\n})\nexport class SelectComponent implements OnInit {\n\n  exercises: Exercise[] = [\n    {name: 'Military Press', descr: 'Set up by taking a barbell or other weight and putting it in a racking position. The weight is then pressed to overhead.', src: '../../../assets/military_press.mp4', mn: '229', stationID: 5},\n    {name: 'Deadlift', descr: 'The deadlift is a weight training exercise in which a loaded barbell or bar is lifted off the ground to the level of the hips, torso perpendicular to the floor, before being placed back on the ground.', src: '../../../assets/deadlift.mp4', mn: '105', stationID: 6},\n    {name: 'Squats', descr: 'A squat is a strength exercise in which the trainee lowers their hips from a standing position and then stands back up. ', src: '../../../assets/squats.mp4', mn: '111', stationID: 4}\n  ];\n\n  @Output()\n  exercise = new EventEmitter<Exercise>();\n\n  constructor(private dataService: DataService) {\n\n  }\n\n  ngOnInit(): void {\n  }\n\n  select(ex: Exercise): void {\n    this.exercise.next(ex);\n  }\n\n}\n","<div class=\"exercise-cards\">\n  <mat-card *ngFor=\"let ex of exercises\" class=\"exercise-card\">\n    <mat-card-header>\n      <mat-card-title>{{ex.name}}</mat-card-title>\n      <div mat-card-avatar class=\"exercise-header-image\"></div>\n    </mat-card-header>\n    <!-- <img mat-card-image *ngIf=\"ex.img\" [src]=\"ex.img\"> -->\n    <video autoplay loop oncanplay=\"this.play()\" onloadedmetadata=\"this.muted = true\" mat-card-image >\n      <source [src]=\"ex.src\" type=\"video/mp4\">\n    </video>\n    <mat-card-content *ngIf=\"ex.descr\">\n      <p>\n        {{ex.descr}}\n      </p>\n    </mat-card-content>\n    <mat-card-actions align=\"end\" class=\"bottom\">\n      <button mat-button (click)=\"select(ex)\">Start <mat-icon>play_arrow</mat-icon></button>\n    </mat-card-actions>\n  </mat-card>\n</div>\n","import { AfterViewInit, Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { SpeechService } from '../services/speech.service';\nimport {Howl, Howler} from 'howler';\nimport { UnaryFunction } from 'rxjs';\nimport { DataService } from '../services/data.service';\n\nexport interface Exercise {\n  name: string\n  descr?: string,\n  src?: string,\n  mn?: string,\n  stationID?: number\n}\n\n\n@Component({\n  selector: 'app-step',\n  templateUrl: './step.component.html',\n  styleUrls: ['./step.component.scss']\n})\nexport class StepComponent implements OnInit, AfterViewInit {\n\n  welcome = \"\";\n  begin = \"\";\n  exercise: Exercise | undefined;\n  result = \"\";\n  zoomSound = new Howl({\n    src: ['../../assets/zoom.mp3']\n  });\n  AudioContext = window.AudioContext;\n\n\n\n  active = \"exercise\";\n  @ViewChild('tabs', { read: ElementRef }) tab!: ElementRef;\n\n\n  constructor(private speechService: SpeechService, private dataService: DataService) { }\n\n  ngOnInit(): void {\n    //this.speechService.start();\n  }\n\n  ngAfterViewInit(): void {\n    this.speechService.result.subscribe(val => {\n      this.result = val;\n    });\n    this.speechService.welcome.subscribe(val => {\n      this.active = 'intro';\n      //this.playZoomSound();\n    });\n    this.speechService.exercise.subscribe(() => {\n      this.active = 'exercise';\n    });\n    this.speechService.begin.subscribe(val => {\n      this.begin = val;\n    });\n  }\n\n  playZoomSound(): void {\n    this.zoomSound.play();\n  }\n\n\n  selectedExercise(ex: Exercise): void {\n    this.exercise = ex;\n    this.dataService.activateStationAndSetExercise(ex.stationID!, ex.mn!);\n  }\n\n  deactivate(): void {\n    this.dataService.deactivateStationAndSetExercise(this.exercise?.stationID!, this.exercise?.mn!);\n  }\n\n\n\n\n\n\n}\n","\n<app-select *ngIf=\"!exercise\" (exercise)=\"selectedExercise($event)\"></app-select>\n\n<app-renderer *ngIf=\"exercise\" [source]=\"exercise.src!\"></app-renderer>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":[],"sourceRoot":"webpack:///"}